# Модель прецедентів

## 1. Загальна схема
<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

actor "Адміністратор" as Admin
actor "Гість" as Guest

usecase "Управління користувачами" as UserManager
usecase "Підтримка системи" as SysAdministration
usecase "Управління контентом" as ContentManager

Admin -u-> UserManager
Admin -u-> SysAdministration
Admin -r-> ContentManager

actor "Користувач" as User
usecase "Управління аккаунтом" as AccountManager
usecase "Аналіз медіаконтенту" as AnalysContent

User -d-> AccountManager
User -d-> AnalysContent

usecase "log in \n Увійти в обліковий запис" as Login
usecase "Sign in \n Зареєструвати обліковий запис" as Register
Guest -u->Login
Guest -u->Register

actor "Редактор" as Editor
usecase "Завантаження контенту" as ContentUpload
usecase " Оновлення контенту" as ContentUpdate
usecase "Видалення контенту" as ContentDelete

Editor --> ContentUpload
Editor --> ContentUpdate
Editor --> ContentDelete


Admin -d-|> Editor
Editor -l-|> User
User -u-|> Guest
Editor -l-|> Guest

@enduml

**Рис. 1** Загальна схема

</center>

## 2. Схема використання для гостя
<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

actor "Гість" as Guest

usecase "log in \n Увійти в обліковий запис" as Login
usecase "Sign in \n Зареєструвати обліковий запис" as Register
Guest -d->Login
Guest -d->Register

@enduml

**Рис. 2** Схема гостя

</center>


## 3. Схема використання для користувача
<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

actor "Користувач" as User

usecase "Управління аккаунтом" as AccountManager
usecase "Аналіз медіаконтенту" as AnalysContent

usecase "Налаштування аккаунта" as AccountEditor
usecase "Звіт в службу підтримки" as SupportReprot

usecase "Налаштування філтрів" as FilterManager
usecase "Порівняння аналізів" as AnalisComparison


User -d-> AccountManager
User -d-> AnalysContent

AccountManager <.. SupportReprot :<<extends>>
AccountManager <.. AccountEditor :<<extends>>

AnalysContent <.. FilterManager :<<extends>>
AnalysContent <.. AnalisComparison :<<extends>>

@enduml

**Рис. 3** Схема користувача

</center>

## 4. Схема використання для редактора
<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

actor "Редактор" as Editor

usecase "Завантаження контенту" as ContentUpload
usecase " Оновлення контенту" as ContentUpdate
usecase "Видалення контенту" as ContentDelete

Editor --> ContentUpload
Editor --> ContentUpdate
Editor --> ContentDelete

@enduml

**Рис. 4** Схема редактора

</center>

## 5. Схема використання для адміністратора
<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

actor "Адміністратор" as Admin

usecase "Управління користувачами" as UserManager
usecase "Підтримка системи" as SysAdministration
usecase "Підтримка Користувача" as UserSupport
usecase "Видалення Користувача" as UserDel
usecase "Додавання прав" as AddRights
usecase "Моніторинг системи" as SysMonitoring
usecase "Керування базами данних" as DatabaseManager
usecase "Управління контентом" as ContentManager
usecase "Моніторинг ресурсів" as ResoursesMonitoring
usecase "Налаштування параметрів аналізу" as AnalysOptionManager

Admin -d-> UserManager
Admin -d-> SysAdministration
Admin -d-> ContentManager

UserManager <.. UserSupport :<<extends>>
UserManager <.. UserDel :<<extends>>
UserManager <.. AddRights :<<extends>>

SysAdministration <.. DatabaseManager :<<extends>>
SysAdministration <.. SysMonitoring :<<extends>>

ContentManager <.. ResoursesMonitoring :<<extends>>
ContentManager <.. AnalysOptionManager :<<extends>>

@enduml

**Рис. 5** Схема адміністратора

</center>

## 6. Сценарії використання гостя
### Сценарій реєстрації гостя в системі

| **ID:**                | UserRegistration                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **НАЗВА:**             | Створення нового облікового запису користувача.                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **УЧАСНИКИ:**          | Користувач, система.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |                                                                              
| **ПЕРЕДУМОВИ:**        | Користувач не має облікового запису в системі.                                                                                                                                                                                                                                                                                                                                                                                                                                                      |                                                                                              
| **РЕЗУЛЬТАТ:**         | Система створює новий обліковий запис та записує реєстраційні дані користувача.                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Користувач електронну пошту на яку вже створений обліковий запис.                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Користувач натискає "Створити обліковий запис" на головній сторінці.<br/>2. Система виводить поля для реєстрації користувача.<br/>3. Користувач вводить реєстраційні дані(Пошта та пароль).<br/>4. Користувач натискає кнопку "Створити обліковий запис".<br/>5. Система перевіряє електронну пошту на наявність існуючого облікового запису (EmailAlreadyUsed).<br/>6. Система створює новий обліковий запис із введеними даними.<br/>7. Система перенаправляє користувача в особистий кабінет. |

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>


@startuml

|Користувач|
start;
:Користувач натискає кнопку "Зареєструватись";
|Система|
:Система отримує запит на реєстрацію;
:Система надсилає форму реєстрації користувачеві;
|Користувач|
:Користувач вводить реєстраційні дані;
:Користувач натискає кнопку "Створити обліковий запис";
|Система|
:Система перевіряє електронну пошту на\nнаявність існуючого облікового запису;
note right #ff8787

    EmailAlreadyUsed

    end note
    :Система створює новий обліковий запис\nіз введеними даними;
    :Система перенаправляє користувача в особистий кабінет;
|Користувач|
:Користувач отримує доступ до\nсвого нового облікового запису;
stop;

@enduml

**Рис. 6.1** Схема реєстрації гостя в системі

</center>

### Сценарій авторизації гостя в системі
| **ID:**                | UserLogin                                                                                                                                                                                                                                                                                                                                                                                                                         |
|------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **НАЗВА:**             | Авторизація користувача в обліковий запис.                                                                                                                                                                                                                                                                                                                                                                                        |
| **УЧАСНИКИ:**          | Користувач, система.                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                              
| **ПЕРЕДУМОВИ:**        | Користувач має обліковий запис в системі.                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                              
| **РЕЗУЛЬТАТ:**         | Система авторизує користувача в обліковий запис.                                                                                                                                                                                                                                                                                                                                                                                  |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Користувач ввів неіснуючу електронну пошту. Користувач ввів неправильний пароль.                                                                                                                                                                                                                                                                                                                                                  |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Користувач натискає "Авторизація" на головній сторінці.<br/>2. Система виводить користувачеві поля для авторизації.<br/>3. Користувач вводить дані облікового запису.<br/>4. Користувач натискає кнопку "Авторизуватись."<br/>5. Система перевіряє наявність облікового запису з такими поштою та паролем (можливі помилки IncorrectEmail та IncorrectPassword).<br/>7. Система перенаправляє користувача в особистий кабінет. |

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

|Користувач|
start;
:Користувач натискає кнопку "Авторизація";
|Система|
:Система отримує запит на авторизацію;
:Система надсилає форму\nдля авторизації користувачеві;
|Користувач|
:Користувач вводить дані облікового запису;
:Користувач натискає кнопку "Авторизуватись";
|Система|
:Система перевіряє наявність облікового\nзапису з такими поштою та паролем;
note right #ff8787

    IncorrectEmail
    IncorrectPassword

    end note
    :Система перенаправляє користувача\nв особистий кабінет;
|Користувач|
:Користувач отримує доступ до\nсвого облікового запису;
stop;

@enduml

**Рис. 6.2** Схема авторизації гостя в системі

</center>

## 7. Сценарії використання для зареєстрованого користувача
### Сценарій видалення користувача із системи

| **ID:**                | UserDelete                                                                                                                                                                                                                                                                                  |
|------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **НАЗВА:**             | Видалення існуючого облікового запису користувача.                                                                                                                                                                                                                                          |
| **УЧАСНИКИ:**          | Користувач, система.                                                                                                                                                                                                                                                                        |                                                                              
| **ПЕРЕДУМОВИ:**        | Користувач має обліковий запис в системі та авторизований в нього.                                                                                                                                                                                                                          |                                                                                              
| **РЕЗУЛЬТАТ:**         | Система видаляє обліковий запис та дані користувача.                                                                                                                                                                                                                                        |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Облікового запису не існує.                                                                                                                                                                                                                                                                 |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Користувач переходить в особистий кабінет <br/>2. Користувач натискає "Видалити обліковий запис".<br/>3. Користувач підтверджує видалення (Ще раз натискає "Видалити").<br/>4. Система видаляє обліковий запис та його дані.<br/>5.Система повертає користувача на сторінку авторизації. |

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

|Користувач|
start;
:Користувач в особистому кабінеті\nнатискає кнопку "Видалити обліковий запис";
|Система|
:Система отримує запит на видалення облікового запису;
:Система надсилає сповіщення для підтвердження\nвидалення облікового запису користувача;
|Користувач|
:Користувач підтверджує видалення\nнатискаючи "Видалити";
|Система|
:Система перевіряє наявність\nоблікового запису користувача;
note right #ff8787

    AlreadyDeleted

    end note
    :Система видаляє\nобліковий запис користувача;
    :Система повертає користувача\nна сторінку авторизації;
|Користувач|
stop;

@enduml


**Рис. 7.1** Схема видалення користувача із системи

</center>


## 8. Сценарії використання для адміністратора
### Сценарій надання прав редактора користувачу

| **ID:**                | UserToEditorPromotion                                                                                                                          |
|------------------------|------------------------------------------------------------------------------------------------------------------------------------------------|
| **НАЗВА:**             | Надання прав редактора користувачеві.                                                                                                          |
| **УЧАСНИКИ:**          | Адміністратор, користувач, система.                                                                                                            |                                                                              
| **ПЕРЕДУМОВИ:**        | Користувач має активний обліковий запис у системі.                                                                                             |                                                                                              
| **РЕЗУЛЬТАТ:**         | Система оновлює права облікового запису надаючи йому роль редактора.                                                                           |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Користувач уже має права редактора - EditorRoleAlready.<br/> Користувач заблокований - UserBanned.                                             |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Система перевіряє роль користувача.<br/>2. Система змінює роль користувача на "редактор".<br/>3. Система повідомляє про успішну зміну ролі. |

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

|Адміністратор|
start;
:Адміністратор входить\nна панель керування;
:Вибирає користувача для\nнадання прав редактора;
|Система|
:Система перевіряє наявність\nоблікового запису користувача;
note right #ff8787

    UserBanned

    end note
    :Система перевіряє роль користувача;
    note right #ff8787

    EditorRoleAlready

    end note
    :Система змінює роль користувача\nна "редактор";
    :Система повідомляє адміністратора\nпро успішну зміну ролі користувача;
|Адміністратор|
stop;

@enduml

**Рис. 8.1** Схема надання прав редактора користувачу

</center>

### Сценарій надання прав адміністратора користувачу

| **ID:**                | UserToAdminPromotion                                                                                                                                                                                                                                                                     |
|------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **НАЗВА:**             | Надання прав адміністратора користувачеві.                                                                                                                                                                                                                                               |
| **УЧАСНИКИ:**          | Користувач, адміністратор, система.                                                                                                                                                                                                                                                      |                                                                              
| **ПЕРЕДУМОВИ:**        | Користувач має активний обліковий запис у системі.                                                                                                                                                                                                                                       |                                                                                              
| **РЕЗУЛЬТАТ:**         | Система оновлює права облікового запису надаючи йому роль адміністратора.                                                                                                                                                                                                                |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Користувач уже має права адміністратора - AdminRoleAlready.<br/> Користувач заблокований - UserBanned.<br/>                                                                                                                                                                              |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Користувач надсилає заявку на отримання прав адміністратора.<br/> 2. Адміністратор перевіряє заявку та передає її в систему.<br/> 3. Система перевіряє роль користувача.<br/>4. Система змінює роль користувача на "адміністратор".<br/>5. Система повідомляє про успішну зміну ролі. |

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

|Користувач|
start;
:Користувач надсилає заявку\nна отримання прав адміністратора;
|Адміністратор|
:Адміністратор перевіряє заявку\nта передає її в систему;
|Система|
:Система перевіряє наявність\nоблікового запису користувача;
note right #ff8787

    UserAlreadyBanned

    end note
    :Система перевіряє роль\nоблікового запису;
    note right #ff8787

    UserIsAdministrator

    end note
    :Система змінює роль\nкористувача на "адміністратор";
    :Система надає користувачу\nінтерфейс адміністратора\nз відповідними правам;
|Користувач|
stop;

@enduml

**Рис. 8.2** Схема надання прав адміністратора користувачу

</center>

### Сценарій блокування користувача

| **ID:**                | AdminBlockUser                                                                                                                                                                                                                                                                     |
|------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **НАЗВА:**             | Блокування адміністратором користувача.                                                                                                                                                                                                                                            |
| **УЧАСНИКИ:**          | Адміністратор, Користувач, система.                                                                                                                                                                                                                                                |                                                                              
| **ПЕРЕДУМОВИ:**        | Адміністратор має доступ до системи облікових записів.                                                                                                                                                                                                                             |                                                                                              
| **РЕЗУЛЬТАТ:**         | Обліковий запис користувача заблоковано.                                                                                                                                                                                                                                           |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Користувач вже заблокований - UserAlreadyBanned.                                                                                                                                                                                                                                   |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Адміністратор відкриває систему облікових записів <br/>2. Адміністратор обирає користувача для блокування<br/>3. Адміністратор надсилає до системи запит на блокування користувача.<br/>4.Система перевіряє дані користувача.<br/>5.Система блокує обліковий запис користувача. |


<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

|Адміністратор|
start;
:Адміністратор відкриває\nсистему облікових записів;
:Адміністратор обирає\nкористувача для блокування;
|Система|
:Система перевіряє наявність\nоблікового запису користувача;
note right #ff8787

    UserAlreadyBanned

    end note
    :Система перевіряє роль\nоблікового запису;
    note right #ff8787

    UserIsAdministrator

    end note
    :Система блокує користувача;
    :Система повідомляє адміністратора\nпро успішне блокування користувача;
|Адміністратор|
stop;

@enduml

**Рис. 8.2** Схема блокування користувача

</center>

## 9. Сценарії використання для редактора
### Сценарій завантаження контенту

| **ID:**                | DataUpload                                                                                                                                                                                                                                    |
|------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **НАЗВА:**             | Додавання даних на сайт.                                                                                                                                                                                                                      |
| **УЧАСНИКИ:**          | Редактор, система.                                                                                                                                                                                                                            |                                                                              
| **ПЕРЕДУМОВИ:**        | Редактор має обліковий запис в системі, має права на завантаження, авторизований в системі.                                                                                                                                                   |                                                                                              
| **РЕЗУЛЬТАТ:**         | На сайт завантажено дані.                                                                                                                                                                                                                     |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Формат даних не дійсний, або не підтримується - DataInvalidFormat.<br/> Дані вже завантажено на сайт - DataAlreadyUploaded.                                                                                                                   |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Редактор входить в панель редагування сайту. <br/>2. Редактор обирає опцію завантаження даних.<br/>3. Редактор завантажує дані в систему.<br/>4. Система перевіряє підтримуваність формату даних. <br/>5. Система завантажує дані на сайт. |

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

|Редактор|
start;
:Редактор входить в панель редагування сайту;
:Редактор вибирає опцію завантаження даних;
:Редактор обирає файл з даними;
|Система|
:Система перевіряє формат файлу;
note right #ff8787

    DataInvalidFormat

    end note
    :Система завантажує дані на сайт;
|Редактор|
stop;

@enduml

**Рис. 9.1** Схема завантаження контенту

</center>

### Сценарій оновлення контенту

| **ID:**                | DataUpdate                                                                                                                                                                                                                                                     |
|------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **НАЗВА:**             | Оновлення даних на сайті.                                                                                                                                                                                                                                      |
| **УЧАСНИКИ:**          | Редактор, система.                                                                                                                                                                                                                                             |                                                                              
| **ПЕРЕДУМОВИ:**        | Редактор має права на редагування даних, дані існують на сайті.                                                                                                                                                                                                |                                                                                              
| **РЕЗУЛЬТАТ:**         | Існуючі дані оновлено на сайті.                                                                                                                                                                                                                                |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Дані вже оновлено - DataAlreadyUpdated.<br/>Формат даних не дійсний, або не підтримується - DataInvalidFormat.                                                                                                                                                 |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Редактор входить в панель редагування сайту.<br/>2. Редактор обирає опцію оновлення даних. <br/>3. Редактор завантажує оновлені дані в систему. <br/>4. Система перевіряє підтримуваність формату даних. <br/>5. Система завантажує оновлені дані на сайті. |

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

|Редактор|
start;
:Редактор входить в панель\nредагування сайту;
:Редактор вибирає опцію\nоновлення даних;
:Редактор завантажує оновлені\nдані в систему;
|Система|
:Система перевіряє підтримуваність\nформату даних;
note right #ff8787

    DataAlreadyUpdated
    DataInvalidFormat

    end note
    :Система завантажує оновлені\nдані на сайт;
|Редактор|
stop;

@enduml

**Рис. 9.2** Схема оновлення контенту

</center>

### Сценарій видалення контенту

| **ID:**                | DataDelete                                                                                                                                                                     |
|------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **НАЗВА:**             | Видалення даних с сайту.                                                                                                                                                       |
| **УЧАСНИКИ:**          | Редактор, система.                                                                                                                                                             |                                                                              
| **ПЕРЕДУМОВИ:**        | Редактор має права на редагування даних, дані існують на сайті.                                                                                                                |                                                                                              
| **РЕЗУЛЬТАТ:**         | Обрані дані видаляються з сайту.                                                                                                                                               |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Даних не існує - DataNotExist.                                                                                                                                                 |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Редактор входить в панель редагування сайту.<br/>2. Редактор обирає опцію видалення даних. <br/>3. Система перевіряє наявність даних. <br/>4. Система видаляє дані з сайту. |

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

|Редактор|
start;
:Редактор входить в панель\nредагування сайту;
:Редактор вибирає опцію\nвидалення даних;
|Система|
:Система перевіряє наявність даних;
note right #ff8787

    DataNotExist

    end note
    :Система видаляє\nдані з сайту;
|Редактор|
stop;

@enduml

**Рис. 9.3** Схема видалення контенту

</center>

